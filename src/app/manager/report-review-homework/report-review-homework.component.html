<nav class="breadcrumb">
  <span class="breadcrumb-item active">รายงานการลงทะเบียนในระบบ CO-ward</span>
</nav>
<!-- 
<div class="clr-row">
  <div class="clr-col-12" style="text-align: right;">
    <button class="btn btn-sm btn-primary" (click)="doExportExcel()">
      <clr-icon shape="download"></clr-icon>export excel
    </button>
  </div>
</div> -->

<table class="table table-compact" style="position: relative; border-collapse: collapse; font-size: 5rem;">
  <tr>
    <th class="td-border">เขต</th>
    <th class="td-border text-right">รพ.รัฐ</th>
    <th class="td-border text-right">ลงทะเบียน</th>
    <th class="td-border text-right">ร้อยละ</th>
    <th class="td-border text-right">รพ.เอกชน</th>
    <th class="td-border text-right">ลงทะเบียน</th>
    <th class="td-border text-right">ร้อยละ</th>
  </tr>


  <tr *ngFor="let h of list; let idx=index;" [ngClass]="{isWarning: idx % 2 === 0}">
    <td class="text-left td-border">{{h.zone_code}}</td>
    <td class="text-right td-border">{{h.government |number:'1.0-0'}}</td>
    <td class="text-right td-border">{{h.government_register |number:'1.0-0'}}</td>
    <td class="text-right td-border">{{ h.government_register /h.government * 100 |number:'1.0-0'}}%</td>
    <td class="text-right td-border">{{h.private |number:'1.0-0'}}</td>
    <td class="text-right td-border">{{h.private_register |number:'1.0-0'}}</td>
    <td class="text-right td-border">{{h.private_register /h.private * 100 |number:'1.0-0'}}%</td>
  </tr>
  <!-- <tr  class="isProblem">
    <td class="left td-border" ></td>
    <td class="left td-border" ></td>
    <td class="right td-border" ></td>
    <td class="left td-border" >ลงทะเบียนแล้ว {{sum1}}/{{sum2}} รพ.</td>
    <td class="left td-border" >{{sum1*100/sum2 | number:'1.0-2'}}%</td>
  </tr> -->
</table>
<br>
<br>
<div class="clr-select-wrapper">
  <select class="clr-select" [(ngModel)]="selectRegister" (change)="onSelectRegister()">
    <option value="all">ทั้งหมด</option>
    <option value="register">ลงทะเบียน</option>
    <option value="nonregister">ไม่ได้ลงทะเบียน</option>
  </select>
</div>
<table class="table table-compact" style="position: relative; border-collapse: collapse; font-size: 5rem;">
  <tr>
    <th class="td-border">เขต</th>
    <th class="td-border">จังหวัด</th>
    <th class="td-border">รหัสโรงพยาบาล</th>
    <th class="td-border">โรงพยาบาล</th>
    <th class="td-border">วันที่ลงทะเบียนล่าสุด</th>
    <th class="td-border">สังกัด</th>
  </tr>


  <tr *ngFor="let h of details; let idx=index;" [ngClass]="{isWarning: idx % 2 === 0}">
    <td class="left td-border">{{+h.zone_code}}</td>
    <td class="left td-border">{{h.province_name}}</td>
    <td class="left td-border">{{h.hospcode}}</td>
    <td class="left td-border">{{h.hospname}}</td>
    <td class="right td-border">{{h.register_last_date | dateTh:'DD/MM/YYYY hh:mm'}}</td>
    <td class="left td-border">{{h.sub_ministry_name}}</td>
  </tr>

</table>
<app-loadding #loading></app-loadding>
