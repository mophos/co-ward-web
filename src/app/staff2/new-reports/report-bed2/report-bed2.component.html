<nav
  style="margin-bottom: 16px;"
  class="breadcrumb">
  <span class="breadcrumb-item active"> รายงานเตียง (new) </span>
</nav>

<div style="display: flex; justify-content: space-between;">
  <div> </div>
  <div>
    <button
      class="btn btn-primary btn-sm"
      (click)="exportExcel()">
      export excel
    </button>
  </div>
</div>

<div style="overflow-x: auto; margin-bottom: 24px;">
  <table style="border-collapse: collapse;" class="table table-compact">
    <thead>
      <tr>
        <th rowspan="2" class="td-border"> โรงพยาบาล </th>
        <th colspan="3" class="td-border"> ระดับ 3 ใส่ท่อและเครื่องช่วยหายใจได้ </th>
        <th colspan="3" class="td-border"> ระดับ 2.2 Oxygen high flow </th>
        <th colspan="3" class="td-border"> ระดับ 2.1 Oxygen low flow </th>
        <th colspan="3" class="td-border"> ระดับ 1 ไม่ใช้ Oxygen </th>
        <th colspan="3" class="td-border"> ระดับ 0 Home Isolation (stepdown) </th>
        <th colspan="3" class="td-border"> Home Isolation (New case) </th>
        <th colspan="3" class="td-border"> Community Isolation (New case) </th>
        <th colspan="3" class="td-border"> AIIR </th>
        <th colspan="3" class="td-border"> Modified AIIR </th>
        <th colspan="3" class="td-border"> Cohort ICU </th>
        <th colspan="3" class="td-border"> Isolate </th>
        <th colspan="3" class="td-border"> Cohort </th>
        <th colspan="3" class="td-border"> Hospitel </th>
        <th rowspan="2"> สังกัด </th>
      </tr>
      <tr>
        <ng-container *ngFor="let item of [].constructor(12); let i = index">
          <th class="td-border"> ทั้งหมด </th>
          <th class="td-border"> ใช้ไปแล้ว </th>
          <th class="td-border"> คงเหลือ </th>
        </ng-container>
        <th class="td-border"> ทั้งหมด </th>
        <th class="td-border"> ใช้ไปแล้ว </th>
        <th class="td-border"> คงเหลือ </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items; let i = index">
        <td class="td-border">
          <div style="width: 200px;">
            {{ item.hospname || '-' }}
          </div>
        </td>
        <td class="td-border"> {{ checkValue(item.level3_total) }} </td>
        <td class="td-border"> {{ checkValue(item.level3_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.level3_total, item.level3_used) }} </td>
        <td class="td-border"> {{ checkValue(item.level2_2_total) }} </td>
        <td class="td-border"> {{ checkValue(item.level2_2_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.level2_2_total, item.level2_2_used) }} </td>
        <td class="td-border"> {{ checkValue(item.level2_1_total) }} </td>
        <td class="td-border"> {{ checkValue(item.level2_1_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.level2_1_total, item.level2_1_used) }} </td>
        <td class="td-border"> {{ checkValue(item.level1_total) }} </td>
        <td class="td-border"> {{ checkValue(item.level1_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.level1_total, item.level1_used) }} </td>
        <td class="td-border"> {{ checkValue(item.level0_total) }} </td>
        <td class="td-border"> {{ checkValue(item.level0_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.level0_total, item.level0_used) }} </td>
        <td class="td-border"> {{ checkValue(item.home_isolation_total) }} </td>
        <td class="td-border"> {{ checkValue(item.home_isolation_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.home_isolation_total, item.home_isolation_used) }} </td>
        <td class="td-border"> {{ checkValue(item.community_isolation_total) }} </td>
        <td class="td-border"> {{ checkValue(item.community_isolation_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.community_isolation_total, item.community_isolation_used) }} </td>
        <td class="td-border"> {{ checkValue(item.aiir_total) }} </td>
        <td class="td-border"> {{ checkValue(item.aiir_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.aiir_total, item.aiir_used) }} </td>
        <td class="td-border"> {{ checkValue(item.modified_aiir_total) }} </td>
        <td class="td-border"> {{ checkValue(item.modified_aiir_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.modified_aiir_total, item.modified_aiir_used) }} </td>
        <td class="td-border"> {{ checkValue(item.cohort_icu_total) }} </td>
        <td class="td-border"> {{ checkValue(item.cohort_icu_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.cohort_icu_total, item.cohort_icu_used) }} </td>
        <td class="td-border"> {{ checkValue(item.isolate_total) }} </td>
        <td class="td-border"> {{ checkValue(item.isolate_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.isolate_total, item.isolate_used) }} </td>
        <td class="td-border"> {{ checkValue(item.cohort_total) }} </td>
        <td class="td-border"> {{ checkValue(item.cohort_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.cohort_total, item.cohort_used) }} </td>
        <td class="td-border"> {{ checkValue(item.hospitel_total) }} </td>
        <td class="td-border"> {{ checkValue(item.hospitel_used) }} </td>
        <td class="td-border"> {{ getRemaining(item.hospitel_total, item.hospitel_used) }} </td>
        <td>
          <div style="width: 200px;">
            {{ item.sub_ministry_name || '-' }}
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div
    *ngIf="isLoading && !items.length"
    style="display: flex; justify-content: center;">
    กำลังโหลดข้อมูล ...
</div>

<div
    *ngIf="!isLoading && !items.length"
    style="display: flex; justify-content: center;">
    ไม่พบข้อมูล
</div>

<app-loadding #loading></app-loadding>
