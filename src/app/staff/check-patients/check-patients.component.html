<nav class="breadcrumb">
  <!-- <a class="breadcrumb-item" href="javascript://" routerLink="/admin/manage-min-max">รายการสังกัด</a> -->
  <span class="breadcrumb-item active">รายงานจำนวนผู้ป่วย COVID ADMIT แยกรายโรงพยาบาล</span>
</nav>

<!-- <table class="table">
  <thead>
    <tr>
      <th colspan="2" class="left"></th>
      <th class="left">จำนวนผู้ป่วย</th>
      <th class="left">IP PUI</th>
      <th class="left">Severve</th>
      <th class="left">Moderate</th>
      <th class="left">Mild</th>
      <th class="left">Asymptomatic</th>
    </tr>
  </thead>
  <thead>
    <tr>
      <th colspan="2" class="right" style="font-weight: bold;">รวมทั้งสิ้น</th>
      <th class="right" style="font-weight: bold;">{{total}}</th>
      <th class="right" style="font-weight: bold;">{{ippui}}</th>
      <th class="right" style="font-weight: bold;">{{severe}}</th>
      <th class="right" style="font-weight: bold;">{{moderate}}</th>
      <th class="right" style="font-weight: bold;">{{mild}}</th>
      <th class="right" style="font-weight: bold;">{{asymptomatic}}</th>
    </tr>
  </thead>
</table> -->
<br>

<div class="clr-row">
  <div class="clr-col-2">วันที่แสดงข้อมูล</div>
  <div class="clr-col-2">
    <my-date-picker-th name="date" [options]="myDatePickerOptions" (dateChanged)="onChangeDate()" [(ngModel)]="date" required>
    </my-date-picker-th>
  </div>
</div>
<!-- <clr-datagrid>
  <clr-dg-column>เขตสุขภาพ</clr-dg-column>

  <clr-dg-row *ngFor="let b of list">
    <clr-dg-cell>{{b.name}}</clr-dg-cell>
    <clr-datagrid ngProjectAs="clr-dg-row-detail" *clrIfExpanded>
      <clr-dg-column>จังหวัด</clr-dg-column>
      <clr-dg-row *ngFor="let p of b.provinces">
        <clr-dg-cell>{{p.province_name}}</clr-dg-cell>

        <clr-datagrid ngProjectAs="clr-dg-row-detail" *clrIfExpanded>
          <clr-dg-column>โรงพยาบาล</clr-dg-column>
          <clr-dg-column>Severe</clr-dg-column>
          <clr-dg-column>Moderate</clr-dg-column>
          <clr-dg-column>Mild</clr-dg-column>
          <clr-dg-column>Asymptomatic</clr-dg-column>
          <clr-dg-column>IP PUI</clr-dg-column>
          <clr-dg-row *ngFor="let h of p.hospitals">
            <clr-dg-cell>{{h.hospname}}</clr-dg-cell>
            <clr-dg-cell>{{h['Severe']}}</clr-dg-cell>
            <clr-dg-cell>{{h['Moderate']}}</clr-dg-cell>
            <clr-dg-cell>{{h['Mild']}}</clr-dg-cell>
            <clr-dg-cell>{{h['Asymptomatic']}}</clr-dg-cell>
            <clr-dg-cell>{{h['IP PUI']}}</clr-dg-cell>
          </clr-dg-row>
        </clr-datagrid>
      </clr-dg-row>
    </clr-datagrid>
  </clr-dg-row>
</clr-datagrid> -->


<div *ngFor="let l of list">
  <h4> {{l.provinces == 1 ? '' : 'เขต '+l.name}}</h4>
  <table class="table" *ngFor="let p of l.provinces">
    <thead>
      <tr>
        <th colspan="7" style="text-align: left;">
          <h3>{{p.province_name}}</h3>
        </th>
      </tr>
      <tr>
        <th class="right">โรงพยาบาล</th>
        <th class="right">จำนวนผู้ป่วย</th>
        <th class="right">Severe</th>
        <th class="right">Moderate</th>
        <th class="right">Mild</th>
        <th class="right">Asymptomatic</th>
        <th class="right">IP PUI</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let h of p.hospitals">
        <td class="left">{{h.hospname}}</td>
        <td class="right">
          {{h['Severe'] || 0 + h['Moderate']|| 0 + h['Mild']|| 0 + h['Asymptomatic']|| 0 + h['IP PUI'] || 0}}</td>
        <td class="right">{{h['Severe'] }}</td>
        <td class="right">{{h['Moderate']}}</td>
        <td class="right">{{h['Mild']}}</td>
        <td class="right">{{h['Asymptomatic']}}</td>
        <td class="right">{{h['IP PUI']}}</td>
      </tr>
      <tr>
        <td class="right" style="font-weight: bold;">รวม</td>
        <td class="right" style="font-weight: bold;">{{l.count}}</td>
        <td class="right" style="font-weight: bold;">{{l.ippui}}</td>
        <td class="right" style="font-weight: bold;">{{l.severe}}</td>
        <td class="right" style="font-weight: bold;">{{l.moderate}}</td>
        <td class="right" style="font-weight: bold;">{{l.mild}}</td>
        <td class="right" style="font-weight: bold;">{{l.asymptomatic}}</td>
      </tr>
    </tbody>
  </table>
</div>


<app-loadding #loading></app-loadding>
