<nav class="breadcrumb">
  <span>เติม Surgical Mask</span>
</nav>

<div class="clr-row">
  <div class="clr-col-12">
    <button class="btn btn-sm btn-primary" (click)="cal()" style="float: left;">
      <clr-icon shape="calculator" class="is-solid"></clr-icon>
      คำนวน Surgical Mask
    </button>
    <button class="btn btn-sm btn-success" (click)="approved()" style="float: right;" [disabled]="!selected.length">
      <clr-icon shape="floppy" class="is-solid"></clr-icon>
      อนุมัติ {{countApprove}} รายการ
    </button>
  </div>
</div>

<clr-datagrid [clrDgLoading]="loading" [style.height.px]="800" [(clrDgSelected)]="selected" [clrDgRowSelection]="true" (clrDgSelectedChange)="selectionChanged($event)">
  <clr-dg-column>รหัสใบเติม</clr-dg-column>
  <clr-dg-column>วันที่</clr-dg-column>

  <clr-dg-row *clrDgItems="let i of list; let idx = index;" [clrDgItem]="i" [ngClass]="{isSuccess: i.is_approved == 'Y'}">
    <clr-dg-cell>{{i.code}}</clr-dg-cell>
    <clr-dg-cell>{{i.created_at | dateTh:'DD/MM/YYYY hh:mm'}}</clr-dg-cell>
    <app-fulfill-surgical-mask-details [id]="i.id" *clrIfExpanded ngProjectAs="clr-dg-row-detail"></app-fulfill-surgical-mask-details>
  </clr-dg-row>
</clr-datagrid>